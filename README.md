# PDF Highlighter-AI Translator 使用指南

## 项目介绍
PDF Highlighter-AI Translator 是一款基于人工智能的PDF文档标注和翻译工具，它结合了PDF高亮标注功能和AI翻译技术，帮助用户高效学习外语文档。

主要功能亮点：
- 智能文本选择和翻译
- 生词提取与翻译
- 可自定义的高亮标注
- 带注释的PDF导出
- 单词和句子导出功能
- 暗黑模式和阅读优化

## 从GitHub克隆到使用

### 1. 克隆仓库
```bash
git clone https://github.com/twy2020/PDF_Highlighter-AI_Translator.git
cd PDF_Highlighter-AI_Translator
```

### 2. 安装依赖
```bash
# 创建并激活虚拟环境（推荐）
python -m venv venv
source venv/bin/activate  # Linux/macOS
venv\Scripts\activate    # Windows

# 安装依赖包
pip install -r requirements.txt
```

### 3. 配置API密钥
编辑项目根目录下的 `ai.cfg` 文件，添加您的API密钥：
```json
{
    "API_URL": "https://api.siliconflow.cn/v1/chat/completions",
    "API_KEY": "您的API密钥",
    "MODEL_NAME": "deepseek-ai/DeepSeek-V3",
    "REQUEST_TIMEOUT": 60,
    "WORD_PROMPT": "初中及以上水平的、专业的、难的、冷门的、重点的"
}
```

### 4. 运行应用程序
```bash
python main.py
```

或者直接打开PDF文件：
```bash
python main.py path/to/your/document.pdf
```

## 核心功能使用指南

### 1. 基本操作
- **打开PDF**：工具栏 > "打开PDF"按钮
- **页面导航**：底部导航栏或左侧缩略图
- **缩放**：Ctrl+鼠标滚轮
- **文本选择**：鼠标拖拽选择文本区域

### 2. 翻译功能
1. 用鼠标选择文本区域
2. 在左侧面板操作：
   - **翻译整段文本**：点击"翻译整段文本"按钮
   - **提取生词**：点击"提取并翻译生词"按钮
3. 翻译结果将显示在右侧面板的相应标签页

### 3. 高亮标注
- **单词高亮**：在单词表格中点击第一列图标切换高亮状态
- **句子高亮**：在句子表格中点击第一列图标切换高亮状态
- **自定义颜色**：在颜色输入框中输入颜色代码（如#FFFF00）或点击颜色按钮选择

### 4. 批量操作
在右侧面板使用批量操作按钮：
- **一键高亮**：高亮当前页所有未高亮项目
- **一键清除**：清除当前页所有高亮
- **高亮所有页**：高亮文档中所有项目
- **清除所有页**：清除整个文档的高亮

### 5. 导出功能
- **导出单词**：
  - 导出当前页单词：单词标签页 > "导出此页单词"
  - 导出所有单词：单词标签页 > "导出全部单词"
- **导出句子**：
  - 导出当前页句子：句子标签页 > "导出本页句子"
  - 导出所有句子：句子标签页 > "导出全部句子"
- **导出带高亮PDF**：工具栏 > "导出PDF"按钮

### 6. 阅读优化
- **暗黑模式**：工具栏 > "切换暗黑"按钮
- **PDF颜色翻转**：工具栏 > "翻转"按钮（适合夜间阅读）
- **对比度调整**：工具栏 > 对比度滑块

### 7. 缩略图导航
- 左侧缩略图栏显示所有页面预览
- 点击缩略图跳转到对应页面
- 当前页面有高亮标注或翻译任务时，缩略图会显示状态指示器

## 高级技巧

### 自定义生词提取条件
编辑 `ai.cfg` 文件中的 `WORD_PROMPT` 值，例如：
```json
"WORD_PROMPT": "专业术语、技术词汇、高级词汇"
```

### 自定义界面设置
编辑 `ui.cfg` 文件调整界面偏好：
```json
{
    "DARK_MODE": true,      // 默认暗黑模式
    "INVERT_PDF": false,    // 是否翻转PDF颜色
    "CONTRAST_LEVEL": 0.85  // 对比度级别(0.2-1.0)
}
```

### 跨行单词处理
当遇到被连字符分割的单词时，软件会自动识别并合并：
1. 选择包含连字符的单词
2. 系统会自动识别并合并前后部分
3. 翻译结果将显示完整单词

## 常见问题解决

### 翻译失败
1. 检查 `ai.cfg` 中的API配置是否正确
2. 确保网络连接正常
3. 尝试减少选择文本的长度

### 高亮不显示
1. 确认当前页面是否正确
2. 尝试缩放视图(Ctrl+滚轮)
3. 检查高亮颜色是否与背景相近

### 缩略图不更新
1. 切换页面后自动更新
2. 点击工具栏"刷新"按钮(如有)
3. 重启应用程序

## 技术支持
如有其他问题或功能建议，请通过以下方式联系：
- GitHub Issues: https://github.com/twy2020/PDF_Highlighter-AI_Translator/issues
- 邮箱: tenwonyun@gmail.com

这款工具特别适合学生、研究人员和需要阅读大量外文文献的专业人士，帮助您高效学习和理解外语文档内容。
